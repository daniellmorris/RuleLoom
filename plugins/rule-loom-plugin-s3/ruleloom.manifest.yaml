version: 1
name: rule-loom-plugin-s3
pluginVersion: 0.1.0
entry: dist/index.js
closures:
  - name: s3.putObject
    description: Upload an object to S3/MinIO
    signature:
      parameters:
        - name: region
          type: string
          required: true
        - name: endpoint
          type: string
          required: false
        - name: accessKeyId
          type: string
          required: true
        - name: secretAccessKey
          type: string
          required: true
        - name: bucket
          type: string
          required: true
        - name: key
          type: string
          required: true
        - name: body
          type: any
          required: true
        - name: contentType
          type: string
          required: false
  - name: s3.getPresignedUrl
    description: Generate a presigned GET URL
    signature:
      parameters:
        - name: region
          type: string
          required: true
        - name: endpoint
          type: string
          required: false
        - name: accessKeyId
          type: string
          required: true
        - name: secretAccessKey
          type: string
          required: true
        - name: bucket
          type: string
          required: true
        - name: key
          type: string
          required: true
        - name: expiresIn
          type: number
          required: false
